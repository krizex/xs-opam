opam-version: "2.0"
maintainer: "xen-api@lists.xen.org"
authors: [ "xen-api@lists.xen.org" ]
homepage: "https://github.com/xapi-project/xen-api"
bug-reports: "https://github.com/xapi-project/xen-api/issues"
dev-repo: "git+https://github.com/xapi-project/xen-api.git"
build: [[ "bash" "build-datamodel.sh" ]]

depends: [
  "ocaml"
  "jbuilder" {build & >= "1.0+beta11"}
  "rpc"
  "stdext"
  "xapi-consts"
  "xapi-database"
  "xapi-libs-transitional"
  "xenstore"
  "mustache"
]
patches: [
    "0001-datamodel-setup-the-ulimit-for-the-opam-build.patch"
]
synopsis: "The xapi toolstack daemon which implements the XenAPI"
description: """
This daemon exposes the XenAPI and is used by clients such as 'xe'
and 'XenCenter' to manage clusters of Xen-enabled hosts."""
extra-files: [
  "0001-datamodel-setup-the-ulimit-for-the-opam-build.patch"
  "md5=991622773fa46737955d2383ffb574d2"
]
url {
  src: "https://github.com/xapi-project/xen-api/archive/master/master.tar.gz"
}
